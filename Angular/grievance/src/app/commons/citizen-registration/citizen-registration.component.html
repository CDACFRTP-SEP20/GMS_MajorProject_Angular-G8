<div class="maindiv">
    <!-- <div class="registerlogo">
                        <img src="https://www.iconspng.com/images/memo-pictogram/memo-pictogram.jpg" alt="">
                      </div> -->
    <div class="container form">
        <span class="font-weight-bolder text-center header">
            <legend>Register here!</legend>
        </span>

        <form [formGroup]="registerForm" (ngSubmit)="registerCitizen()">

            <div class="form-group">
                <label for="name">Name:</label>
                <div class="input-container">
                    <i class="fa fa-user icon"></i>
                    <input type="text"
                        [ngClass]="{'is-invalid': (registerForm.controls.name.touched || submitted) && (registerForm.controls.name.errors?.required ||registerForm.controls.name.errors),
                            'is-valid': ((registerForm.controls.name.touched ) && !registerForm.controls.name.errors?.required && !registerForm.controls.name.errors)}"
                        formControlName="name" class="form-control " placeholder="Enter name" name="name">
                    &nbsp;
                </div>
                <div class="text-danger"
                    *ngIf="registerForm.controls.name.touched && registerForm.controls.name.invalid">
                    Minlength is 3 and only Characters are allowed.
                </div>
            </div>

            <div class="form-group">
                <label for="username">Username:</label>
                <div class="input-container">
                    <i class="fa fa-user icon"></i>
                    <input type="text"
                        [ngClass]="{'is-invalid': (registerForm.controls.username.touched || submitted) && (registerForm.controls.username.errors?.required ||registerForm.controls.username.errors),
                                'is-valid': ((registerForm.controls.username.touched ) && !registerForm.controls.username.errors?.required && !registerForm.controls.username.errors) && !(validUsername && registerForm.controls.username.touched) }"
                        formControlName="username" class="form-control" placeholder="Enter Username" name="username"
                        (change)="checkUsername()">
                    &nbsp;
                    <div class="text-danger" *ngIf="validUsername && registerForm.controls.username.touched ">
                        Username Already Exists
                    </div>
                    <div class="invalid-feedback" *ngIf="!(validUsername && registerForm.controls.username.touched)">
                        username is required with minlength 3.
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="pwd">Password:</label>
                <div class="input-container">
                    <i class="fa fa-key icon"></i>
                    <input [type]="fieldTextType ? 'text' : 'password'"
                        [ngClass]="{'is-invalid': (registerForm.controls.password.touched || submitted) && (registerForm.controls.password.errors?.required ||registerForm.controls.password.errors),
                            'is-valid': ((registerForm.controls.password.touched ) && !registerForm.controls.password.errors?.required && !registerForm.controls.password.errors)}"
                        formControlName="password" class="form-control" placeholder="Enter password" name="password">
                    <div class="input-group-append">
                        <span class="input-group-text">
                            <i class="fa" [ngClass]="{
                                              'fa-eye-slash': !fieldTextType,
                                              'fa-eye': fieldTextType
                                            }" (click)="toggleFieldTextType()"></i>
                        </span>
                    </div>
                    &nbsp;
                </div>
                <div class="text-danger"
                    *ngIf="registerForm.controls.password.touched && registerForm.controls.password.invalid">
                    password is required with minlegth 6 character.
                </div>
            </div>

            <div class="form-group">
                <label for="address">Address:</label>
                <div class="input-container">
                    <i class="fa fa-address-card icon"></i>
                    <input type="text"
                        [ngClass]="{'is-invalid': (registerForm.controls.address.touched || submitted) && (registerForm.controls.address.errors?.required ||registerForm.controls.address.errors),
                            'is-valid': ((registerForm.controls.address.touched ) && !registerForm.controls.address.errors?.required && !registerForm.controls.address.errors)}"
                        formControlName="address" class="form-control" placeholder="Enter address" name="address">
                    &nbsp;
                </div>
                <div class="text-danger"
                    *ngIf="registerForm.controls.address.touched && registerForm.controls.address.invalid">
                    address is required.
                </div>
            </div>

            <div class="form-group">
                <label for="email">EmailID:</label>
                <div class="input-container">
                    <i class="fa fa-at icon"></i>
                    <input type="email"
                        [ngClass]="{'is-invalid': (registerForm.controls.email.touched || submitted) && (registerForm.controls.email.errors?.required ||registerForm.controls.email.errors),
                                    'is-valid': ((registerForm.controls.email.touched ) && !registerForm.controls.email.errors?.required && !registerForm.controls.email.errors)}"
                        formControlName="email" class="form-control" placeholder="Enter email address" name="email">
                    &nbsp;
                </div>
                <div class="text-danger"
                    *ngIf="registerForm.controls.email.touched && registerForm.controls.email.invalid">
                    Email is required
                </div>
            </div>

            <div class="form-group">
                <button type="submit" class="btn btn-success" [disabled]="!registerForm.valid" data-toggle="modal"
                    data-target="#exampleModal">Sign up</button> &nbsp;
                <!-- Modal -->
                <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">

                            <div class="modal-body">
                                You have successfully registered!
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" data-dismiss="modal"
                                    (click)="transfer()">Okay</button>

                            </div>
                        </div>
                    </div>
                </div>

                <button class="btn btn-danger" (click)="cancel()">Cancel</button>
            </div>

        </form>
    </div>
</div>